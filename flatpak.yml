app-id: com.elagost.Dice
runtime: org.gnome.Platform
runtime-version: '42'
sdk: org.gnome.Sdk
command: dice
separate-locales: false
rename-desktop-file: dice.desktop
rename-icon: dice
finish-args:
  - --socket=x11
  - --socket=wayland
  - --socket=session-bus
  
modules:
  - name: dice-gui
    buildsystem: simple
    build-commands:
      - tar xf dice-gui.tar.gz
      - ls
      - cd dice-gui-1.4 && make build && PREFIX="${FLATPAK_DEST}/" make install
    sources:
      - type: file
        dest-filename: dice-gui.tar.gz
        url: https://gitlab.com/elagost/dice-gui/-/archive/1.4/dice-gui-1.4.tar.gz
        sha256: b4c43dc4c55ed917b342bf8753c2d27be1caac5e905d41b2bb3f033119a82b0b
        only-arches:
          - aarch64
