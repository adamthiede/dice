app-id: com.elagost.Dice
runtime: org.gnome.Platform
runtime-version: '43'
sdk: org.gnome.Sdk
command: dice
separate-locales: false
rename-desktop-file: dice.desktop
rename-icon: dice
finish-args:
  - --socket=x11
  - --socket=wayland
  - --socket=session-bus
  
modules:
  - name: dice-gui
    buildsystem: simple
    build-commands:
      - tar xf dice-gui.tar.gz
      - ls
      - cd dice-2.0 && make build && PREFIX="${FLATPAK_DEST}/" make install
    sources:
      - type: file
        dest-filename: dice.tar.gz
        url: https://git.sr.ht/~elagost/dice/archive/2.0.tar.gz
        sha256: 517270cf1a31536b45fa7818523c9daff1403e6491c3fb6d9ad31187789a83d0
        only-arches:
          - aarch64
